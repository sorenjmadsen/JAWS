import matplotlib.pyplot as plt
import numpy as np 

capture_rates = [
    # One Meter
    [  
        0.9337748344,
        0.9249448124,
        0.9613686534,
        0.9326710817,
        0.9205298013,
        0.9315673289,
        0.9547461369,
        0.9337748344,
        0.9216335541,
        0.9315673289,
        0.9437086093,
        0.9161147903,
        0.9426048565,
        0.9282560706,
        0.9304635762,
        0.9348785872,
        0.940397351,
        0.9459161148,
        0.9591611479,
        0.9624724062,
        0.93598234,
        0.9470198675,
        0.9415011038,
        0.9746136865,
        0.9746136865,
        0.9492273731,
        0.96799117,
        0.9779249448,
        0.973509933,
        0.9591611479
    ],
    # Five Meters
    [
        0.8697571744,
        0.8973509934,
        0.8686534216,
        0.8730684327,
        0.8543046358,
        0.8631346578,
        0.8642384106,
        0.8785871965,
        0.880794702,
        0.8344370861,
        0.8609271523,
        0.8476821192,
        0.8796909492,
        0.8907284768,
        0.8465783664,
        0.738410596,
        0.7030905077,
        0.7461368653,
        0.8101545254,
        0.8598233996,
        0.9227373068,
        0.7174392936,
        0.8410596026,
        0.8443708609,
        0.8697571744,
        0.8874172185,
        0.9238410596,
        0.8907284768,
        0.9205298013,
        0.9613686534
    ],
    # Ten Meters
    [
        0.6832229581,
        0.6953642384,
        0.6997792494,
        0.6026490066,
        0.6622516556,
        0.642384106,
        0.6181015453,
        0.6302428256,
        0.6611479029,
        0.5540838852,
        0.6324503311,
        0.6081677704,
        0.6258278146,
        0.6214128035,
        0.5364238411,
        0.6666666667,
        0.6412803532,
        0.6103752759,
        0.6821192053,
        0.6004415011,
        0.6081677704,
        0.6236203091,
        0.6810154525,
        0.7395143488,
        0.5750551876,
        0.5783664459,
        0.5419426049,
        0.5198675497,
        0.5,
        0.5286975717
    ],
    # Fifteen Meters
    [
        0.1832229581,
        0.233995585,
        0.2869757174,
        0.2494481236,
        0.1821192053,
        0.2141280353,
        0.1964679912,
        0.3189845475,
        0.03311258278,
        0.4392935982,
        0.1390728477,
        0.3818984547,
        0.1688741722,
        0.5993377483,
        0.6026490066,
        0.3763796909,
        0.5894039735,
        0.5485651214,
        0.6236203091,
        0.1092715232,
        0.2759381898,
        0.5717439294,
        0.1534216336,
        0.1931567329,
        0.1986754967,
        0.4757174393,
        0.3498896247,
        0.2328918322,
        0.1346578366,
        0.2174392936
    ]
]
labels = ["1m", "5m", "10m", "15m"]

fig, ax = plt.subplots()
bplot = ax.boxplot( capture_rates,
            vert=True,
            patch_artist=True,
            labels=labels,
            showmeans=True,
            flierprops=dict(marker='x'))


colors = ['lightgreen', 'lemonchiffon', 'moccasin','pink']
for patch, color in zip(bplot['boxes'], colors):
    patch.set_facecolor(color)

vals = ax.get_yticks()
ax.set_yticklabels(['{:,.0%}'.format(x) for x in vals])
plt.ylabel("Packet Reception Rate")
plt.xlabel("Sniffer Distance")
plt.scatter(1,1,marker='s', c="blue")
plt.annotate("100%",(0.6,1))
plt.scatter(2,0.9666667,marker='s', c="blue")
plt.annotate("97%",(1.7,.96667))
plt.scatter(3,1,marker='s', c="blue")
plt.annotate("100%",(2.6,1))
last = plt.scatter(4,1,marker='s', c="blue")
plt.annotate("100%",(3.6,1))
plt.title("Attack Detection & Packet Capture vs. Sniffer Distance")
plt.legend([last], ["Detection Success Rate"],loc="best")
plt.show()